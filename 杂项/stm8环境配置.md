# stm8l101f3p6配环境记录

最近因为需要使用一个低成本、**低功耗**、**小体积**的mcu制作一套简单的spi-iic-uart转换板，综合比较了stc8（51架构）、stm8（st自研8位CISC架构）、atmel8（51架构）等单片机，最后选择了stm8l10x系列，因为

* 成本可以接受（好贵啊，但是至少比msp那种诡异的东西便宜）
* 体积最小（封装ssop20）
* 外部电路最少（唯二不需要外部晶振的单片机）
* 功耗相对低（虽然比不上TI的，但是它更便宜）
* 外设最丰富（有硬件spi、iic、uart，完全满足需求）

不过似乎这款MCU网上的资源较少，所以简单说一下配环境流程，供有需要的人参考

## 避坑

需要注意：EIDE（VSCode里面的Embedded IDE插件，可以用SDCC开发各种8位MCU）是不能对stm8l生效的（除非不用官方库函数，但是stm8不就是因为库函数快速开发才有人用的吗=_=，没库函数谁用这个又贵又没生态的东西），因为它的库函数里面自带一段编译器认证，SDCC不能对他进行编译——不过如果你的电脑上有IAR那就能用IAR编译，不过我不喜欢IAR这东西，所以就放弃了

所以**一定要按照官网流程来**，**本教程也是仅供参考**，软件这东西时效性很强的

## 配环境

首先要安装三套基础工具和驱动

### STVD：一个用于STM8开发的IDE







### STVP：一个STM8烧录软件





### cosmic编译器：用于stm32和stm8编程的第三方编译器









### ST-LINK驱动

