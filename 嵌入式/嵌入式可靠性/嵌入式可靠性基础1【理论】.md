# 嵌入式可靠性基础1【理论】

嵌入式系统是一种典型的复杂系统：电气、机械、接口、板级硬件、片上硬件、底层软件、算法软件等每个子系统都具有较高复杂度——当它们组合在一起，就需要针对嵌入式系统进行**可靠性**设计。可靠性设计是保障设备可用的根基，它包含了三个方面：功能设计、系统设计和容差设计。

在开始介绍可靠性设计之前，先来了解一下可靠性设计应当遵循的几条基本原则：

1. **可靠性设计的目的是利润**

    可靠性的目标是保障系统在规定时间、规定条件下，完成规定功能

    这个目标不是指工程师要尽可能降低成本设计粗制滥造的产品，而是应当合理分析需求，保障产品在成本允许范围内**能够**（be able to）完成预先**规定**的产品功能

2. **可靠性设计的重点是系统设计**

    系统设计可以理解成子系统接口设计。学习过计算机组成原理的同学能够理解，这里的接口不仅仅是接插件的接口，还包括抽象层之间的接口。事实上，广义的接口包括：PCB和PCB、PCB和线缆、线缆和线缆相互连接时所使用的九针、RJ45、航空插头等**电气接口**；PCB和产品结构件连接时使用到的螺柱、卡扣、热熔胶等**机械接口**；片上硬件和软件系统、上位机下位机软件、顶层软件和底层软件之间所使用的指令集、协议栈等**信息接口**；项目工作的外界条件如额定电压、最高输入电流、最低温度、最高湿度等**环境接口**

    良好的系统设计有助于子系统解耦，并降低系统调试的难度。在可靠性方面，针对这四种接口，分别要设计四大措施保障接口的安全，只要每个层级之间的接口不出问题，那么系统的失效概率就会大大降低：**防错**、**判错**、**纠错**、**容错**，这四个措施层层递进——出现接口干扰问题时，只要四类措施中的一种发挥作用，就能保证系统安全

3. **可靠性设计的难点是容差设计**

    容差设计的本质就是把系统中各个子模块部分的参数漂移上下限都列举出来，找出系统中各个子系统偏差漂移后的最坏组合（最坏情况分析WCA，Worst Condition Analysis），通过工程计算的方式确保子系统仍能工作在有效范围内，从而让系统能够耐受规定的极限情况

    PCB设计中的物理仿真、IC设计中的STA、软件设计中的冗余设计等都是为了满足容差。容差设计是可靠性设计中最难进行测试的，一般只能在理论层面进行仿真验证；并且容差涉及到了每个子系统的具体分析，复杂度比其他任何设计标准都高，因此是设计中的难点

4. **可靠性设计的标准是用户满意**

    技术是为人服务的，因此用户满意的产品才是好产品，在严格按照标准进行可靠性设计后交付的产品尽管可以在工况保障正常使用，但有可能出现部分子系统工作不良的情况

    > 比如一个随身听可以实现+30℃、相对湿度70%的条件下正常工作，但用户使用中发现听感存在严重下降，那么这个产品必然不受南方用户的欢迎，产品利润也就下降，变相地没能完成“嵌入式可靠性设计目标”

    因此，可靠性设计中的规定时间、规定条件、规定功能偶要基于用户的满意度和主观感受来确定