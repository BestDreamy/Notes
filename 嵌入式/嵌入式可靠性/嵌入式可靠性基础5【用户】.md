# 嵌入式可靠性基础5【用户】

还记得嵌入式可靠性的标准吗？**可靠性设计的标准是用户满意**

> 没有人的技术毫无意义

工程师在进行嵌入式开发时应当从三个主要方面满足用户要求。首先就是**嵌入式安全性**：产品绝对不能对用户的安全造成威胁，一旦出现问题，公司就上新闻喽，这一点是所有产品的底线。其次是**可用性**：产品的操作便捷性、外观时尚新颖等“软实力”往往决定着销量和口碑，好的产品优点不一，但坏的产品一定都卖不出去——工程师也要向市场负责。最后是**可维修性**：嵌入式可靠性的目标就是保障系统在规定时间、规定条件下，完成规定功能，但如果在产品出现问题时完全无法维修或者维修费用高昂，用户也会觉得自己的利益受到损害，这隐隐降低了产品的销量。

## 嵌入式安全性



安全性包括三部分：[嵌入式](https://so.csdn.net/so/search?q=嵌入式&spm=1001.2101.3001.7020)系统对人的安全性影响、对周边关联设备和环境的安全性影响、对整机设备自身的安全性影响。

1、定义

　　1.1 I类设备：使用网电源供电且有保护接地端子的设备，如空调、台式计算机等；

　　1.2 II类设备：使用网电源或低压直流供电且没有保护接地端子，如家用电视机，220V供电，插头是火线和零线，没有地线；

　　1.3 应用部分：设备中用来与操作者、作用对象相接触的全部部件；

　　1.4 漏电流：非功能性电流，包括外壳漏电流、对地漏电流；

　　1.5 电气间隙：两个导体部件之间的最短空气距离；

　　1.6 爬电距离：沿两个导体部件之间的绝缘材料表面的最短路径；

2、标记的要求

　　2.1 外部标记：

　　　　包括生产供应单位、型式标记、与电源连接、电源频率、输入功率、熔断器、输出等；

　　2.2 内部标记：

　　　　主要是供给生产装配、维修人员使用，包括最大负载功率、功能接地端、电池装入方法等；

　　2.3 控制器件与仪表标记

　　　　要求必须有电源开关的识别和表示，控制器件和开关的党委表示和标记。比如清楚的识别通断位置；

　　2.4 导线

　　　　绝缘层在各行各业的安规中都有统一的颜色标准，比如保护接地由黄绿色相间标志；

　　2.5 指示灯的颜色

　　　　主要是红、黄、绿三种；分别标识危险、注意和正常；

3、环境条件

　　环境条件包括：
 　　运输环境：如相对温度、大气压力、环境温度
 　　运行环境：如相对温度、大气压力、环境温度
 　　供电环境：如电压波动、频率误差、内部电源如可更换则由制造厂商提供；

4、对电击危险的防护

　　1、剩余电压 例如用插头和电源连接的嵌入式系统，在拔断插头后1S，插件和机身之间电压不超过60V；
 　　2、剩余能量 设备电源切断后，立即打开机壳，剩余电压不超过60V，若超过，剩余能量不超过2mJ;
 　　3、外壳的封闭性
 　　4、不用工具就可以打开的罩盖的下，可带电的不见都要隔离；
 　　5、灯泡的安全性，在其更换时避免与带电部件接触；
 　　6、控制器件的导体部分电阻不大于0.2欧姆或绝缘隔离；
 　　7、带电部件须有防护罩和标记；
 　　8、整机外壳安全；
 　　9、应用部分不得与未保护接地的可触或金属部件有导电连接；

5、对机械危险的防护

　　保证在机械危险发生后，嵌入式系统电气部分不得产生危险。如设备跌落撞出凹痕，会引起电介质强度变化。

　　　　1、外壳及零部件刚度要求；
 　　　　2、外壳及零部件强度要求；
 　　　　3、提拎装置承载能力；
 　　　　4、针对正常使用的手持设备，具备抗坠落性；
 　　　　5、抗搬运应力；
 　　　　6、运动部件防护；
 　　　　7、传动部件的安全性；
 　　　　8、运动部件的可控性；
 　　　　9、运动部件的可控性；
 　　　　10、易磨损部件的可查性；
 　　　　11、电控机械运动的安全性；
 　　　　12、紧急装置的可靠性；
 　　　　13、可能造成损伤的粗糙表面、尖角等需予以避免或覆盖；
 　　　　14、正常使用倾斜10度，设备必须不失衡；
 　　　　15、可版运行；
 　　　　16、防止飞溅物；
 　　　　17、避免悬挂系统的安全隐患；
 　　　　18、外壳结构要求，如防止气体、蒸汽进入、防止外物入侵引起燃烧等；

6、对随机文件的要求

　　随机文件应具有齐全性，它至少包括使用说明书、技术说明书（是设备设计和维护相关文档）和供用户可查的包括厂家地址在内的文件；

7、电气连接

　　1）满足电气间隙和爬电距离要求；
 　　2）连接点防止意外脱开；
 　　3）对能形成点燃源的设备，不得配置可拆卸的电源软电线；

8、静电防护

　　必须采用适当的组合进行静电防御。

9、电晕

　　运行在交流2000V、直流2400V以上的设备，且未装在封闭壳内部，必须设计成不会发生电晕。

　　备注：电晕(放电)是指由于高电压使周围空气产生电离,当电压梯度超过一定临界值时,在导体表面和它的附近出现紫蓝色辉光的放电现象

10、超温和防火

　　1）非提供热量的设备应用部分，表面温度不应超过41度；
 　　2）防止与热的可触及表面接触用的防护件，必须用工具才能拆下；

11、溢流和液体泼洒

　　存在太满或溢流，遗漏出的液体不得引起安全方面的危险；

12、泄漏、受潮和进液安全要求
 13、清晰、消毒和灭菌安全要求
 14、能够产生压力的装置要增加压力释放装置；
 15、中断复位

　　当供电电源中断后又恢复时，除预定功能中断外，不会产生安全方面的危险；当电源中断时，必须有消除作用对象上的机械压力的措施；

16、防止危险输出；
 17、单一故障发生时不能发生引起操作者危险、设备自身发生起火、短路等安全性故障。如电源变压器过载、恒温器失灵、散热条件变差；
 18、元器件的要求

　　1）其额定值和在设备中的使用条件不能违背；
 　　2）网电源和应用部分的元器件必须加标识；
 　　3）元器件不必要的活动可能造成危险的，增加安全防护；

19、连接的要求

　　1）导线和连接器必须固定妥善、绝缘良好；
 　　2）连接器的构造必须能防止不正确连接；

 　　3) 可拆卸电线，必须保证其中一个连接装置松动时，可触及的导体部件不带电；

20、保护装置
 21、电池和指示灯：
 22、电器控制器的不见必须符合防电击及接地阻抗的要求。要求固定并防止调节失误；
 23、对有电线连接的手持和脚踏控制装置要考虑工作电压、机械强度、疏忽操作和进液等危险防护；
 24、考虑与供电网分段时的安全防护；
 25、保护接地端子和连接；
 26、内部连线要考虑机械防护（如与锐边的摩擦）、弯曲和绝缘等；
 27、各种类型的绝缘在延长的使用过程中，必须保持绝缘性能、机械强度、耐热性、耐火性等要求；
 28、对过电流和过电压进行保护；





## 嵌入式可用性









## 嵌入式可维修性

对产品来说，设计的首要任务是应用的安全，其次是利润。利润的产生有两个途径：开源和节流。开源是指让产品具有更多的附加值、提高产品销量；节流的核心则是可维修性

> 硬件产品和软件开发存在着非常大的差异，详细内容可以参考笔者的《硬件开发进度管理》笔记。对于智能硬件，其瀑布流开发方式决定了产品在立项阶段就需要有前瞻性，而硬件产品往往更对生命周期后期缺乏重视——我们主要关注对用户造成影响的嵌入式可靠性环节，因此这一环节是我们要探讨的

维修产生的成本支出（尤其是产品保修期内的支出）会导致产品净利润下降，因此提高产品可维修性也能够间接提高产品利润

### 可维修性分级

根据维修地点不同，民用产品可以分为

* **用户级**：用户现场即可维修
* **中间商级**：在办事处、经销商或代理商处维修
* **厂部级**：返厂维修

上述三个等级的时间和金钱成本依次增高，

### 维修性的定性要求

设计时应当对产品功能进行分析，合并相同或相似功能，消除不必要功能以简化产品操作和维修步骤。在满足功能要求的条件下，越简单、层次越少、耦合越低的产品，可维修性越好，这和软件工程中的可维护性是一个道理。同时，产品的机械结构设计应当剔除不必要的部分，排除因磨损或漂移等原因引起的常见故障；对易磨损和贵重件，可以设计成可拆卸或可调整的组合件，以便于局部更换或修复。最后，要合理安排各组成部分的位置，减少连接件和固定件，这样能够方便检测和更换部件，降低维修人员技术水平要求和工作量

根据上述内容，可以总结出可维修性的要求包括

* 可达性

    需要维修和拆装的零部件周围应当保留足够的操作空间，易损件、常拆件和附加设备的拆装要简便。维修时能看见内部操作为佳

* 标准化互换性

    设计时优选标准化的设备，保证故障率高、易损坏、关键性零部件要具有良好的互换性和通用性，接口应当完全兼容且便于测试调整

* 防差错措施

    设计时应当考虑到在使用和维修时造成人为差错的可能，加入防呆设计，并且尽量保证即使出现差错也不应危及人机安全。应在产品规定位置设置明显的警示标志，对测试点和连接电标明名称和必要的数据

* 可测试性

    应当在设计时就确定好在出厂检测和维修中可以使用测试点和治具，测试点和测试基准不应设置在易损坏的部位，优选原位检测方式，重要部位采用性能检测和故障报警装置。在复杂系统中，还应当采用机内测试、外部自动测试、测试软件、人工测试等形成综合诊断体系，保证能迅速、准确判明故障部位

* 人机环工程要求

    根据使用和维修时人员的位置、姿势和使用工具情况在设计时预留适当的操作空间，应当考虑维修人员的工作负荷和难度适当

* 预防性维修设计

    应当避免让设备需要依赖预防性维修（即需要拆机更换关键器件维护设备正常工作），如果难以实现，也应当减少维修内容和频率

* 维修安全

    设计时应当保障系统在故障或分解状态进行维修是安全的，并在可能发生危险的部位上标记醒目警告。严重危及安全的组成部分应当有自动防护措施，不要将被损坏后容易发生严重后果的组成部分设置在易被损坏的位置。设计中应当做到防静电、防电击、防辐射、防火，保障人员安全。其中防点击部分要求高压电路与电容器断电后2s内电压能够降低到36V以下，或提供安全放电装置

* 合理的维修作业程序

    维修程序的目的就是降低维修人员需要的技能水平和维修时间。合理的维修程序能够保障维修人员尽可能少地犯错，并提高维修速度、减少开支。但维修程序不应当过于繁琐，尽量避免维修人员查阅设计手册或进行不可靠的决断。在诊断时应当尽量采用机内测试（BIT），如需采用外部测试设备，也应采用测试结果为“通过/不通过”

### 可维修性定量评估指标

定量分析可维修性的指标有以下几种

* **平均修复时间**（MTTR）

    排除故障所需实际修复时间的平均值。MTTR的观测值等于一给定时间内，修复时间的总和与修复次数之比。针对不同的维修级别，同一产品也会有不同的平均修复时间，因此在提出此指标时应当同时指明维修级别。

* **最大修复时间**

    设备达到规定维修度（全部维修工作的某个百分数）所需的修复时间

* **平均维修时间**

    设备每次维修所需实际时间的平均值

* **维修性指数**

    每工作小时的平均维修工时，用公式
    $$
    MI = \frac{MMH}{OH}
    $$
    式中MMH是设备在规定使用期间内的维修工时；OH是设备规定的工作小时数

此外，**维修费用指标**（设备规定使用时间内的平均维修费用与平均工作年数之比）也常用于反映产品的维修代价


